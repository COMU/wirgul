<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Wirgul by COMU</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="javascripts/main.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>

      <header>
        <h1>Wirgul</h1>
        <p>Wireless account creation for GUests with Ldap backend</p>
      </header>

      <div id="banner">
        <span id="logo"></span>

        <a href="https://github.com/COMU/wirgul" class="button fork"><strong>View On GitHub</strong></a>
        <div class="downloads">
          <span>Downloads:</span>
          <ul>
            <li><a href="https://github.com/COMU/wirgul/zipball/master" class="button">ZIP</a></li>
            <li><a href="https://github.com/COMU/wirgul/tarball/master" class="button">TAR</a></li>
          </ul>
        </div>
      </div><!-- end banner -->

    <div class="wrapper">
      <nav>
        <ul></ul>
      </nav>
      <section>
        <h1>wirgul (Wireless account creation for GUests and others with Ldap backend)</h1>

<p>Bu proje kullanıcıların kablosuz hesaplarını kendi başvuruları ile otomatik oluşturmak için oluşturuldu.
Yapılan başvurulara e-posta onayı gönderme prensibiyle çalışmaktadır. Eposta hesaplarına gelen bağlantıya tıklandığında
yapılan istekler gerçeklenmekte ve bilgilendirme epostası kullanıcıya gönderilmektedir.</p>

<h1>KURULUM</h1>

<p>Kurulum adımları Debian tabanlı sistem için açıklanmıştır.</p>

<h2>Gereksinimler</h2>

<p>Wirgul Django web çatısı kullanılarak geliştirilmişti. Onun için ilk olarak Django kurulumu gerekmektedir.</p>

<pre><code>$ sudo apt-get install python-django
</code></pre>

<p>Wirgul, Django 1.3 ile uyumlu olarak yazılmıştır.</p>

<p>Wirgul çalışması sırasında MySQL veri tabanı kullanmaktadır. MySQL veri tabanı ayarları settings.py içerisinde tanımlanmıştır.</p>

<pre><code>DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.mysql', # Add 'postgresql_psycopg2', 'postgresql', 'mysql', 'sqlite3' or 'oracle'.
        'NAME': 'wirguldb',                      # Or path to database file if using sqlite3.
        'USER': 'wirguldbusr',                      # Not used with sqlite3.
        'PASSWORD': 'w1rg3l',                  # Not used with sqlite3.
        'HOST': '',                      # Set to empty string for localhost. Not used with sqlite3.
        'PORT': '',                      # Set to empty string for default. Not used with sqlite3.
    }
}
</code></pre>

<p>Burada NAME veritabanı adı, USER o veri tabanı üzerinde yetkilendirilmiş kullanıcı, PASSWORD ise kullanıcını veritabanı
erişimi sırasında kullandığı parolayı içerir. Bu alanları kendi ayarlarınıza göre güncelleyiniz.
HOST ve PORT kısmı varsayılan olarak localhost ve 3306'dır. Farklı makine ve porttan çalışan MySQL sunucular için bu
ayarları da güncellemeniz gerekmektedir.</p>

<p>Python ile MySQL sunucu etkileşimi için MySQL eklentisi kurulmalıdır</p>

<pre><code>$ sudo apt-get install python-mysqldb
</code></pre>

<p>Wirgul kullanıcı hesaplarının LDAP üzerinde olduğunu varsaymaktadır. Python-LDAP etkileşimi için LDAP eklentisi kurulmalıdır.</p>

<pre><code>$ sudo apt-get install python-ldap
</code></pre>

<p>Wirgul içerisindeki form alanlarında insan girişinin kontrolü için Captcha kullanılmaktadır.
Django için simple-captcha eklentisi kurulmalıdır.</p>

<pre><code>$ sudo apt-get install python-pip
$ pip install django-simple-captcha
</code></pre>

<h2>Ayarlar</h2>

<p>Gereksinimler kurulduktan sonra git kullanarak Github üzerinden Wirgul kaynak kodları edinilmelidir. Git kurulu olmayan
sistemler için, önce git komutu çalıştırmak için gerekli paket kurulabilir.</p>

<pre><code>$ sudo apt-get install git-core
$ git clone https://github.com/COMU/wirgul.git
</code></pre>

<p>Kopyalama işleminden sonra wirgul isimli dizin içerisinde kaynak kodları görebilirsiniz. İlk iş olarak bu dizin içerisindeki
<strong>settings.py</strong> bir metin düzenleyici ile açılmalı ve gerekli değişiklikler yapılmalıdır. <strong>settings.py</strong> içerisinde SMTP,
MySQL sunucu, LDAP, dipnot ve alan adı ayarları bulunmaktadır. Bu ayarlar kullanmak istediğiniz uygun karşılıklar ile
değiştirilmelidir.</p>

<p>Veritabanı ayarları yapıldıktan sonra tabloların tanımlı veritabanı üzerinde oluşturulması gerekmektedir. Bunun için
settings.py dosyası ile aynı dizinde takip eden komut çalıştırılabilir:</p>

<pre><code>$ python manage.py syncdb
</code></pre>

<p>Admin için sorulan tablo isteklerine <strong>n</strong> seçilerek devam edilebilir.</p>

<p>Sonrasında Django uygulamasının mod_wsgi ile çalışabilmesi için Apache kurulumu ve uygun wsgi ayarları gerekmektedir.
Apache kurulumu için:</p>

<pre><code>$ sudo apt-get install apache2
</code></pre>

<p>yeterlidir. Apache üzerinden mod_wsgi kullanımı için:</p>

<pre><code>$ sudo apt-get install libapache2-mod-wsgi
</code></pre>

<p>komutu verilmelidir. Bu aşamadan sonra Apache artık Python dosyalarını işleyebilir hale gelecektir. Hangi dizin için
Python ile işleme yapılması gerektiğini tanımlamak içinse bir sanal konak dosyası oluşturulması gerekmektedir.
Örnek bir dosya wsgi dizini içerisinde bulunmaktadır. Bu dosya içerisindeki yolları kendi sunucunuzdakilere göre
değiştirdikten sonra dosyayı Apache2 sanal konak dosyalarının olduğu dizine kopyalayınız</p>

<pre><code>$ sudo cp kablosuz /etc/apache2/site-available/
$ a2ensite kablosuz
$ /etc/init.d/apache2 reload
</code></pre>

<p>Apache ayarında ilgili konağın aktif hale getirilmesi ve ayarların yeniden yüklenmesi ile artık tanımladığınız adrese
 erişimde Wirgul uygulama ekranını görüyor olmalısınız.</p>

<p>Uygulamanın çalışır hali için: <a href="http://kablosuz.comu.edu.tr">http://kablosuz.comu.edu.tr</a> adresini ziyaret ediniz.</p>

<h1> LİSANS</h1>

<p><img src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" alt="Creative Commons License" title="Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License"></p>

<p>Bu çalışma <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.en_US">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported</a> Lisansı ile lisanslanmıştır.</p>
      </section>
      <footer>
        <p>Project maintained by <a href="https://github.com/COMU">COMU</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="http://twitter.com/#!/michigangraham">mattgraham</a></small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>